BLACKBAUD.netcommunity.EventRegistrationExpress=function(){var c,a,b};BLACKBAUD.netcommunity.EventRegistrationExpress.Init=function(d){if($(window).width()<768){$(".textBoxQuantityMobile").attr("placeholder","0")}var b,a,e,f,c;BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants=JSON.parse(d);c=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants.Controls;e=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(1);if(e){BLACKBAUD.netcommunity.EventRegistrationExpress.UseForAllAddressChange("#"+e.UseForAllAddressesControl,0)}f=c.length;for(a=0;a<f;a++){BLACKBAUD.netcommunity.EventRegistrationExpress.RegisterLaterChange(c[a].Ordinal,0);BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantNameChange(c[a].Ordinal)}};BLACKBAUD.netcommunity.EventRegistrationExpress.RegisterLaterChange=function(b,c){if(b===1){return}if(typeof c==="undefined"){c=400}var k,d,e,g,a,h,j,f;j=BLACKBAUD.netcommunity.EventRegistrationExpress.UseForAllAddresses;a=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(b);if(a){k="#"+a.InnerInfoControl;h="#"+a.UseForAllAddressesControl;e=a.PreferenceControlSuffix;g="#"+a.RegisterLaterControl;autoFillDropDownControlId="#"+a.AutoFillDropDownControl;d=$('[id$="'+e+'"]');if($(g).is(":checked")){$(h).attr("checked",false);$(k).slideUp(c);$(autoFillDropDownControlId).slideUp(c);d.slideUp(c,function(){BLACKBAUD.netcommunity.EventRegistrationExpress.ConditionallyHidePreferencesContainer(c)})}else{$(k).slideDown(c);$(autoFillDropDownControlId).slideDown(c);d.slideDown(function(){$("#"+preferencesContainerName).slideDown(c)});BLACKBAUD.netcommunity.EventRegistrationExpress.HandleUseForAllAddress(0)}}};BLACKBAUD.netcommunity.EventRegistrationExpress.UseForAllAddressChange=function(a,b){if($(a).is(":checked")){BLACKBAUD.netcommunity.EventRegistrationExpress.UseForAllAddresses=true;$(".guestNode").addClass("not-registrant-ordinal")}else{BLACKBAUD.netcommunity.EventRegistrationExpress.UseForAllAddresses=false;$(".not-registrant-ordinal").removeClass("not-registrant-ordinal")}BLACKBAUD.netcommunity.EventRegistrationExpress.HandleUseForAllAddress(b)};BLACKBAUD.netcommunity.EventRegistrationExpress.HandleUseForAllAddress=function(b){var a=BLACKBAUD.netcommunity.EventRegistrationExpress.UseForAllAddresses;if(typeof b==="undefined"){b=400}if(a){$(".Programming_Registrant_GuestAddress").slideUp(b)}else{$(".Programming_Registrant_GuestAddress").slideDown(b)}};BLACKBAUD.netcommunity.EventRegistrationExpress.HandleUseAsBillingAddress=function(b){var a=$(b).is(":checked");$(".Programming_RegistrantUseAsBillingCheckbox input").filter(":checked").not(this).removeAttr("checked");$(b).attr("checked",a)};BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal=function(c){var a=0,b,d,e=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants;a=e.Controls.length;for(b=0;b<a;b++){d=e.Controls[b];if(d.Ordinal===c){return d}}return};BLACKBAUD.netcommunity.EventRegistrationExpress.AboveRegistrantByOrdinal=function(b){var d=-1,a,c,f=0,e=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants;f=e.Controls.length;for(a=0;a<f;a++){c=e.Controls[a];if(c.Ordinal<b){if(!$("#"+c.RegisterLaterControl).is(":checked")){d=a}}}return e.Controls[d]};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyLastNameToAll=function(){var e=0,a,b,d,c,f=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants;e=f.Controls.length;d=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(1);if(d){c=d.LastNameControl;b=$("#"+c).val();for(a=0;a<e;a++){if(f.Controls[a].Ordinal!==1&&f.Controls[a].LastNameControl){$("#"+f.Controls[a].LastNameControl).val(b);$("#"+f.Controls[a].LastNameControl).change();BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark(c)}}}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyPhoneToAll=function(){var f=0,b,c,e=0,a,d=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants;f=d.Controls.length;e=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(1);if(e){a=e.PhoneControl;c=$("#"+a).val();for(b=0;b<f;b++){if(d.Controls[b].Ordinal!==1&&d.Controls[b].PhoneControl){$("#"+d.Controls[b].PhoneControl).val(c);BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark(a)}}}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyEmailToAll=function(){var c=0,f,b,a,e=0,d=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants;c=d.Controls.length;e=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(1);if(e){a=e.EmailControl;b=$("#"+a).val();for(f=0;f<c;f++){if(d.Controls[f].Ordinal!==1&&d.Controls[f].EmailControl){$("#"+d.Controls[f].EmailControl).val(b);BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark(a)}}}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyAboveLastNameByOrdinal=function(a,b){var c;c=BLACKBAUD.netcommunity.EventRegistrationExpress.AboveRegistrantByOrdinal(b);if(c){$("#"+a).val($("#"+c.LastNameControl).val());$("#"+a).change();BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark(a)}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyAbovePhoneByOrdinal=function(a,b){var c;c=BLACKBAUD.netcommunity.EventRegistrationExpress.AboveRegistrantByOrdinal(b);if(c){$("#"+a).val($("#"+c.PhoneControl).val());BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark(a)}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyAboveEmailByOrdinal=function(b,a){var c;c=BLACKBAUD.netcommunity.EventRegistrationExpress.AboveRegistrantByOrdinal(a);if(c){$("#"+b).val($("#"+c.EmailControl).val());BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark(b)}};BLACKBAUD.netcommunity.EventRegistrationExpress.HandleAutoFillDialog=function(b,c){var a=window.confirm(c);if(!a){b.selectedIndex=0}return a};BLACKBAUD.netcommunity.EventRegistrationExpress.copyRegistrationInformationSection=function(c,a,b){if((a)&&(b)){$("#"+a.RegistrantRegistrationInformationContainer+" > input[name$='sectionId'][value='"+c+"']").each(function(){var g=this.id,j=g.substring(g.length-36),d=$("#"+a.RegistrationInformationPrefix+"typeCode_"+j).val(),f=$("#"+a.RegistrationInformationPrefix+"responseTypeCode_"+j).val(),e,h;if(d==="Question"){switch(f){case"Text":e=$("#"+a.RegistrationInformationPrefix+"txtRegistrationInformation_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtRegistrationInformation_"+j);if(e&&h){h.val(e.val())}break;case"MultiLine_Text":e=$("#"+a.RegistrationInformationPrefix+"txtMultilineRegistrationInformation_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtMultilineRegistrationInformation_"+j);if(e&&h){h.val(e.val())}break;case"Dropdown_List":e=$("#"+a.RegistrationInformationPrefix+"ddRegistrationInformationOption_"+j);h=$("#"+b.RegistrationInformationPrefix+"ddRegistrationInformationOption_"+j);if(e&&h){h.val(e.val())}break;case"Checkbox_YesNo":e=$("#"+a.RegistrationInformationPrefix+"chkRegistrationInformation_"+j);h=$("#"+b.RegistrationInformationPrefix+"chkRegistrationInformation_"+j);if(e&&h){if(e.is(":checked")){h.attr("checked","checked")}else{h.removeAttr("checked")}}break;case"NamePhoneEmail":e=$("#"+a.RegistrationInformationPrefix+"txtPersonFirstName_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtPersonFirstName_"+j);if(e&&h){h.val(e.val())}e=$("#"+a.RegistrationInformationPrefix+"txtPersonLastName_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtPersonLastName_"+j);if(e&&h){h.val(e.val())}e=$("#"+a.RegistrationInformationPrefix+"txtPersonPhone_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtPersonPhone_"+j);if(e&&h){h.val(e.val())}e=$("#"+a.RegistrationInformationPrefix+"txtPersonPhone2_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtPersonPhone2_"+j);if(e&&h){h.val(e.val())}e=$("#"+a.RegistrationInformationPrefix+"txtPersonEmail_"+j);h=$("#"+b.RegistrationInformationPrefix+"txtPersonEmail_"+j);if(e&&h){h.val(e.val())}break}}})}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyRegistrationInformationSectionToAll=function(a){var e,d=BLACKBAUD.netcommunity.EventRegistrationExpress.Registrants,b=d.Controls.length,c=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(1),f;if(c){for(e=0;e<b;e++){if(d.Controls[e].Ordinal!==1){BLACKBAUD.netcommunity.EventRegistrationExpress.copyRegistrationInformationSection(a,c,d.Controls[e])}}}};BLACKBAUD.netcommunity.EventRegistrationExpress.CopyAboveSectionByOrdinal=function(d,b){var a=BLACKBAUD.netcommunity.EventRegistrationExpress.AboveRegistrantByOrdinal(b),c=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(b);BLACKBAUD.netcommunity.EventRegistrationExpress.copyRegistrationInformationSection(d,a,c)};BLACKBAUD.netcommunity.EventRegistrationExpress.ConditionallyHidePreferencesContainer=function(a){if(typeof a==="undefined"){a=400}var b=$("#"+preferencesContainerName),c=$(b).children(".Programming_Event_RegistrantPreference:visible");if(c.length===0){$(b).slideUp(a)}};BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantNameChange=function(b){var d,a,c,e;e=BLACKBAUD.netcommunity.EventRegistrationExpress.RegistrantByOrdinal(b);if(e){d="#"+e.FirstNameControl;a="#"+e.LastNameControl;c=e.RegistrantNameControlSuffix;$('[id$="'+c+'"]').text("  "+$(d).val()+" "+$(a).val())}};BLACKBAUD.netcommunity.EventRegistrationExpress.PositionAndFlashCheckMark=function(b){var d=$("#"+b),e=d.offset(),c=d.outerWidth(),a=$("#"+BLACKBAUD.netcommunity.EventRegistrationExpress.CheckMarkElID);a.fadeIn(500);a.offset({top:e.top+8,left:e.left+5+c});setTimeout(function(){a.fadeOut(300)},2000)};BLACKBAUD.netcommunity.EventRegistrationExpress.HandlePlaceholders=function(){var a=document.createElement("input");if(!("placeholder" in a)){$('[name$="txtPersonFirstName"],[name$="txtPersonLastName"]').each(function(){if($(this).attr("placeholder")!==""){$(this).focus(function(){if($(this).val()===$(this).attr("placeholder")){$(this).val("").removeClass("Programming_Event_RegistrantInnerInfoContainer_PlaceholderText")}});$(this).blur(function(){if($(this).val()===""||$(this).val()===$(this).attr("placeholder")){$(this).val($(this).attr("placeholder"));$(this).addClass("Programming_Event_RegistrantInnerInfoContainer_PlaceholderText")}})}});$('[name$="txtPersonFirstName"],[name$="txtPersonLastName"]').blur();$(document.activeElement).focus()}};var eventUrlBasedOndate=[];var jsonData=null;var isFirstDate=true;function GetEventData(c,d){var b=$("#hfProgramID").val();var f=$("#hfActiveViewObjectID").val();var g=$("#hfCurrentPageID").val();var e=$("#IsProgramPackageEvent").val();var a=null;if(e==="true"){$.ajax({type:"POST",url:BLACKBAUD.netcommunity.WebMethodsURL+"/GetPreregisterProgramPackageData",async:false,data:JSON.stringify({calendarDay:c,progId:b,activeViewObjId:f,currentPageID:g,renderedMonth:d}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(h){a=h},error:function(h){console.log(h)}})}else{$.ajax({type:"POST",url:BLACKBAUD.netcommunity.WebMethodsURL+"/GetPreregisterProgramData",async:false,data:JSON.stringify({calendarDay:c,progId:b,activeViewObjId:f,currentPageID:g,renderedMonth:d}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(h){a=h},error:function(h){console.log(h)}})}return a}function GetWebEventUri(b,a){if(b){eventUrlBasedOndate.push({date:a,url:b})}}$(document).ready(function(){$("#anchorOtherDates").datepicker({format:"mm/dd/yyyy",autoclose:true,beforeShowDay:function(j){var n=(new Date(j)).format("ddMMyyyy");var h=false;var l;var k;var m;if(isFirstDate){m=(j.getDate()>1)?j.getMonth()+2:j.getMonth()+1;if(m>12){m=m-12}jsonData=GetEventData(j,m);isFirstDate=false}for(var e=0;e<jsonData.d.length;e++){var f=new Date(parseInt(jsonData.d[e].EventDate.replace("/Date(","").replace(")/")));var g=(new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate())).format("ddMMyyyy");if(g===n){h=jsonData.d[e].IsEnabled;l=jsonData.d[e].CssClass;k=jsonData.d[e].ToolTip;GetWebEventUri(jsonData.d[e].Eventurl,g);break}}return{enabled:h,classes:l,tooltip:k}}}).on("changeMonth",function(f){isFirstDate=true}).on("changeYear",function(f){isFirstDate=true}).on("changeDate",function(g){var f=new Date(g.date).format("ddMMyyyy");for(i=0;i<eventUrlBasedOndate.length;i++){if(eventUrlBasedOndate[i].date==f){window.open(eventUrlBasedOndate[i].url,"_self")}}});function c(f){$("#divAlternateDates").fadeOut(100);$("#"+labelAlternateDatesClientID).off("click",c);$("#"+labelAlternateDatesClientID).click(b)}function b(f){$("#divAlternateDates").fadeIn(100);$("#"+labelAlternateDatesClientID).off("click",b);$("#"+labelAlternateDatesClientID).click(c)}function d(f){$("#divAlternateTimes").fadeIn(100);$("#"+labelAlternateTimesClientID).off("click",d);$("#"+labelAlternateTimesClientID).click(a)}function a(f){$("#divAlternateTimes").fadeOut(100);$("#"+labelAlternateTimesClientID).off("click",a);$("#"+labelAlternateTimesClientID).click(d)}if($("#"+labelAlternateDatesClientID).attr("ScrollingMonth")==="true"){$("#divAlternateDates").show()}else{$("#divAlternateDates").hide();$("#"+labelAlternateDatesClientID).css("cursor","pointer");$("#"+labelAlternateDatesClientID).click(b)}$("#divAlternateTimes").hide();$("#"+labelAlternateTimesClientID).css("cursor","pointer");$("#"+labelAlternateTimesClientID).click(d);$(document).click(function(f){var g=f.target;if(!$(g).is("#divAlternateDates")&&!$(g).is("#"+labelAlternateDatesClientID)){c()}if(!$(g).is("#divAlternateTimes")&&!$(g).is("#"+labelAlternateTimesClientID)){a()}})});